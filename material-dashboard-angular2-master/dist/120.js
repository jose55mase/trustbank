"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[120],{1785:(_,p,i)=>{i.d(p,{g:()=>h});var l=i(4650),e=i(7185);let h=(()=>{class d{constructor(c){this.toastr=c}alert(c,u,v){switch(this.toastr.clear(),v){case"error":this.toastr.error(u,c);break;case"info":default:this.toastr.info(u,c);break;case"success":this.toastr.success(u,c);break;case"warning":this.toastr.warning(u,c)}}}return d.\u0275fac=function(c){return new(c||d)(l.LFG(e._W))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8386:(_,p,i)=>{i.d(p,{K:()=>c});var l=i(529),e=i(2843),h=i(262),d=i(4650),m=i(3321);let c=(()=>{class u{constructor(n,g){this.httpClient=n,this.router=g,this.URL="http://guardianstrustbank.com:8081/api/user",this.httpHeaders=new l.WM({"Content-Type":"application/json"})}agregarAuthorizationHeader(){const n=sessionStorage.getItem("token");return null!=n?this.httpHeaders.append("Authorization","Bearer "+n):this.httpHeaders}getUser(n){return this.httpClient.get(`${this.URL}/getUserByEmail/${n}`,{headers:this.agregarAuthorizationHeader()})}subirFoto(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const t=sessionStorage.getItem("token");null!=t&&(s=s.append("Authorization","Bearer "+t));const o=new l.aW("POST",`${this.URL}/upload`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,h.K)(r=>(0,e._)(r)))}subirdocumentFromt(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const t=sessionStorage.getItem("token");null!=t&&(s=s.append("Authorization","Bearer "+t));const o=new l.aW("POST",`${this.URL}/upload/documentFrom`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,h.K)(r=>(0,e._)(r)))}subirdocumentBack(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const t=sessionStorage.getItem("token");null!=t&&(s=s.append("Authorization","Bearer "+t));const o=new l.aW("POST",`${this.URL}/upload/documentBack`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,h.K)(r=>(0,e._)(r)))}update(n){return this.httpClient.put(`${this.URL}/update`,n,{headers:this.agregarAuthorizationHeader()})}getListUser(){return this.httpClient.get(`${this.URL}/findAll`,{headers:this.agregarAuthorizationHeader()})}savaUser(n){return this.httpClient.post(`${this.URL}/save`,n)}}return u.\u0275fac=function(n){return new(n||u)(d.LFG(l.eN),d.LFG(m.F0))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},7661:(_,p,i)=>{i.d(p,{Qz:()=>l,TG:()=>e});const l={log_user_error:"Usuario incorrecto intenta de nuevo",log_user_success:"Bienvenidos",create_transaction_success:"transacci\xf3n creada con exito",create_transaction_warning:"No tienen suficiente fondos para estra transacci\xf3n",error:"Erros del sistema"},e={success:"\u2714",error:"\u274c"}},5120:(_,p,i)=>{i.r(p),i.d(p,{LoginComponent:()=>g});var l=i(529),e=i(4650),h=i(3321);let d=(()=>{class a{constructor(t,o){this.httpClient=t,this.router=o}login(t,o){const f=btoa("angularapp:12345"),C=new l.WM({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+f});let b=new URLSearchParams;return b.set("grant_type","password"),b.set("username",t),b.set("password",o),this.httpClient.post("http://guardianstrustbank.com:8081/oauth/token",b.toString(),{headers:C})}setToken(t){sessionStorage.setItem("token","42fsfa234234")}isToken(){return!0}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(l.eN),e.LFG(h.F0))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var m=i(7661),c=i(7185),u=i(8386),v=i(1785),n=i(4006);let g=(()=>{class a{constructor(t,o,r,f,C){this.router=t,this.autService=o,this.userService=r,this.notificationService=f,this.toastrService=C,this.objet=new Object,this.email="",this.password="",this.loginDisable=!1}ngOnInit(){this.toastrService.overlayContainer=this.toastContainer}onLogin(){let t=new Intl.NumberFormat("USD",{style:"currency",minimumFractionDigits:2,currency:"USD"});this.loginDisable=!0,this.autService.login(this.email,this.password).subscribe(o=>{const r=JSON.parse(atob(o.access_token.split(".")[1]));this.objet={id:r.id,authorities:r.authorities,username:"",email:r.email,fistName:r.fistName,lastName:r.lastName,city:"",country:"",postal:"",aboutme:"",moneyclean:r.moneyclean,money:t.format(r.moneyclean)},localStorage.setItem("profile",JSON.stringify(this.objet)),sessionStorage.setItem("token",o.access_token),this.router.navigate(["/dashboard"]),this.notificationService.alert("",m.Qz.log_user_success,"success"),this.loginDisable=!1},o=>{console.log("Error show---\x3e ",o),this.notificationService.alert(m.TG.error,m.Qz.log_user_error,"error"),this.loginDisable=!1})}register(){this.router.navigate(["/register"])}onGetUser(t){this.userService.getUser(t).subscribe(r=>{console.log("todo bien ",r)},r=>{console.log("Error --\x3e ",r)})}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(h.F0),e.Y36(d),e.Y36(u.K),e.Y36(v.g),e.Y36(c._W))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&e.Gf(c.FM,7),2&t){let r;e.iGM(r=e.CRH())&&(o.toastContainer=r.first)}},features:[e._Bn([d])],decls:35,vars:4,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"carrucelRight"],["src","./assets/img/logobank.png","width","70","height","70","alt","..."],[1,"card-category"],[1,"card-body"],[1,"vh-50"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","./assets/img/logobanklettersblak.png","alt","Phone image",1,"img-fluid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],["data-mdb-input-init","",1,"form-outline","mb-4"],["autocomplete","off","type","email","id","form1Example13",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example13",1,"form-label"],["autocomplete","off","type","password","id","form1Example23",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example23",1,"form-label"],[1,"d-flex","justify-content-around","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","value","","id","form1Example3","checked","",1,"form-check-input"],["for","form1Example3",1,"form-check-label"],[3,"click"],["type","submit","data-mdb-button-init","","data-mdb-ripple-init","",1,"btn","buttonBank","btn-lg","btn-block",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"div",7),e._UZ(8,"img",8),e.qZA(),e._uU(9," Guardian Trust Bank "),e.qZA(),e._UZ(10,"p",9),e.qZA(),e.TgZ(11,"div",10)(12,"section",11)(13,"div",12)(14,"div",13)(15,"div",14),e._UZ(16,"img",15),e.qZA(),e.TgZ(17,"div",16)(18,"form")(19,"div",17)(20,"input",18),e.NdJ("ngModelChange",function(f){return o.email=f}),e.qZA(),e.TgZ(21,"label",19),e._uU(22,"Email address"),e.qZA()(),e.TgZ(23,"div",17)(24,"input",20),e.NdJ("ngModelChange",function(f){return o.password=f}),e.qZA(),e.TgZ(25,"label",21),e._uU(26,"Password"),e.qZA()(),e.TgZ(27,"div",22)(28,"div",23),e._UZ(29,"input",24)(30,"label",25),e.qZA(),e.TgZ(31,"a",26),e.NdJ("click",function(){return o.register()}),e._uU(32,"Necesit\xe1s registrarte?"),e.qZA()(),e.TgZ(33,"button",27),e.NdJ("click",function(){return o.onLogin()}),e._uU(34),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(20),e.Q6J("ngModel",o.email),e.xp6(4),e.Q6J("ngModel",o.password),e.xp6(9),e.Q6J("disabled",o.loginDisable),e.xp6(1),e.hij(" ",o.loginDisable?"Cargando ...":"Iniciar Sesion"," "))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.On,n.F],styles:[".buttonBank[_ngcontent-%COMP%]{background-color:#44aab6}"]}),a})()}}]);