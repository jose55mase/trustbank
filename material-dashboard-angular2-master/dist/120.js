"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[120],{1785:(_,p,i)=>{i.d(p,{g:()=>h});var l=i(4650),t=i(7185);let h=(()=>{class d{constructor(c){this.toastr=c}alert(c,u,v){switch(this.toastr.clear(),v){case"error":this.toastr.error(u,c);break;case"info":default:this.toastr.info(u,c);break;case"success":this.toastr.success(u,c);break;case"warning":this.toastr.warning(u,c)}}}return d.\u0275fac=function(c){return new(c||d)(l.LFG(t._W))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8386:(_,p,i)=>{i.d(p,{K:()=>c});var l=i(529),t=i(2843),h=i(262),d=i(4650),m=i(3321);let c=(()=>{class u{constructor(n,g){this.httpClient=n,this.router=g,this.URL="https://guardianstrustbank.com:8081/api/user",this.httpHeaders=new l.WM({"Content-Type":"application/json"})}agregarAuthorizationHeader(){const n=sessionStorage.getItem("token");return null!=n?this.httpHeaders.append("Authorization","Bearer "+n):this.httpHeaders}getUser(n){return this.httpClient.get(`${this.URL}/getUserByEmail/${n}`,{headers:this.agregarAuthorizationHeader()})}subirFoto(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const r=new l.aW("POST",`${this.URL}/upload`,a,{reportProgress:!0,headers:s});return this.httpClient.request(r).pipe((0,h.K)(o=>(0,t._)(o)))}subirdocumentFromt(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const r=new l.aW("POST",`${this.URL}/upload/documentFrom`,a,{reportProgress:!0,headers:s});return this.httpClient.request(r).pipe((0,h.K)(o=>(0,t._)(o)))}subirdocumentBack(n,g){let a=new FormData;a.append("archivo",n),a.append("id",g);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const r=new l.aW("POST",`${this.URL}/upload/documentBack`,a,{reportProgress:!0,headers:s});return this.httpClient.request(r).pipe((0,h.K)(o=>(0,t._)(o)))}update(n){return this.httpClient.put(`${this.URL}/update`,n,{headers:this.agregarAuthorizationHeader()})}getListUser(){return this.httpClient.get(`${this.URL}/findAll`,{headers:this.agregarAuthorizationHeader()})}getListUserAdministratorManager(){let n=JSON.parse(localStorage.getItem("profile"));return this.httpClient.get(`${this.URL}/findByAdministratorManager/${n.id}`,{headers:this.agregarAuthorizationHeader()})}savaUser(n){return this.httpClient.post(`${this.URL}/save`,n)}}return u.\u0275fac=function(n){return new(n||u)(d.LFG(l.eN),d.LFG(m.F0))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},7661:(_,p,i)=>{i.d(p,{Qz:()=>l,TG:()=>t});const l={log_user_error:"Usuario incorrecto intenta de nuevo",log_user_success:"Bienvenidos",create_transaction_success:"transacci\xf3n creada con exito",create_transaction_warning:"No tienen suficiente fondos para estra transacci\xf3n",error:"Erros del sistema"},t={success:"\u2714",error:"\u274c"}},5120:(_,p,i)=>{i.r(p),i.d(p,{LoginComponent:()=>g});var l=i(529),t=i(4650),h=i(3321);let d=(()=>{class a{constructor(e,r){this.httpClient=e,this.router=r}login(e,r){const f=btoa("angularapp:12345"),C=new l.WM({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+f});let b=new URLSearchParams;return b.set("grant_type","password"),b.set("username",e),b.set("password",r),this.httpClient.post("https://guardianstrustbank.com:8081/oauth/token",b.toString(),{headers:C})}setToken(e){sessionStorage.setItem("token","42fsfa234234")}isToken(){return!0}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(l.eN),t.LFG(h.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var m=i(7661),c=i(7185),u=i(8386),v=i(1785),n=i(4006);let g=(()=>{class a{constructor(e,r,o,f,C){this.router=e,this.autService=r,this.userService=o,this.notificationService=f,this.toastrService=C,this.objet=new Object,this.email="",this.password="",this.loginDisable=!1}ngOnInit(){this.toastrService.overlayContainer=this.toastContainer}onLogin(){let e=new Intl.NumberFormat("USD",{style:"currency",minimumFractionDigits:2,currency:"USD"});this.loginDisable=!0,this.autService.login(this.email,this.password).subscribe(r=>{const o=JSON.parse(atob(r.access_token.split(".")[1]));this.objet={id:o.id,authorities:o.authorities,username:"",email:o.email,fistName:o.fistName,lastName:o.lastName,city:"",country:"",postal:"",aboutme:"",moneyclean:o.moneyclean,money:e.format(o.moneyclean)},localStorage.setItem("profile",JSON.stringify(this.objet)),sessionStorage.setItem("token",r.access_token),this.router.navigate(["/dashboard"]),this.notificationService.alert("",m.Qz.log_user_success,"success"),this.loginDisable=!1},r=>{console.log("Error show---\x3e ",r),this.notificationService.alert(m.TG.error,m.Qz.log_user_error,"error"),this.loginDisable=!1})}register(){this.router.navigate(["/register"])}onGetUser(e){this.userService.getUser(e).subscribe(o=>{console.log("todo bien ",o)},o=>{console.log("Error --\x3e ",o)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(h.F0),t.Y36(d),t.Y36(u.K),t.Y36(v.g),t.Y36(c._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-login"]],viewQuery:function(e,r){if(1&e&&t.Gf(c.FM,7),2&e){let o;t.iGM(o=t.CRH())&&(r.toastContainer=o.first)}},features:[t._Bn([d])],decls:35,vars:4,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"carrucelRight"],["src","./assets/img/logobank.png","width","70","height","70","alt","..."],[1,"card-category"],[1,"card-body"],[1,"vh-50"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","./assets/img/logobanklettersblak.png","alt","Phone image",1,"img-fluid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],["data-mdb-input-init","",1,"form-outline","mb-4"],["autocomplete","off","type","email","id","form1Example13",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example13",1,"form-label"],["autocomplete","off","type","password","id","form1Example23",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example23",1,"form-label"],[1,"d-flex","justify-content-around","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","value","","id","form1Example3","checked","",1,"form-check-input"],["for","form1Example3",1,"form-check-label"],[3,"click"],["type","submit","data-mdb-button-init","","data-mdb-ripple-init","",1,"btn","buttonBank","btn-lg","btn-block",3,"disabled","click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"div",7),t._UZ(8,"img",8),t.qZA(),t._uU(9," Guardian Trust Bank "),t.qZA(),t._UZ(10,"p",9),t.qZA(),t.TgZ(11,"div",10)(12,"section",11)(13,"div",12)(14,"div",13)(15,"div",14),t._UZ(16,"img",15),t.qZA(),t.TgZ(17,"div",16)(18,"form")(19,"div",17)(20,"input",18),t.NdJ("ngModelChange",function(f){return r.email=f}),t.qZA(),t.TgZ(21,"label",19),t._uU(22,"Email address"),t.qZA()(),t.TgZ(23,"div",17)(24,"input",20),t.NdJ("ngModelChange",function(f){return r.password=f}),t.qZA(),t.TgZ(25,"label",21),t._uU(26,"Password"),t.qZA()(),t.TgZ(27,"div",22)(28,"div",23),t._UZ(29,"input",24)(30,"label",25),t.qZA(),t.TgZ(31,"a",26),t.NdJ("click",function(){return r.register()}),t._uU(32,"Necesit\xe1s registrarte?"),t.qZA()(),t.TgZ(33,"button",27),t.NdJ("click",function(){return r.onLogin()}),t._uU(34),t.qZA()()()()()()()()()()()()),2&e&&(t.xp6(20),t.Q6J("ngModel",r.email),t.xp6(4),t.Q6J("ngModel",r.password),t.xp6(9),t.Q6J("disabled",r.loginDisable),t.xp6(1),t.hij(" ",r.loginDisable?"Cargando ...":"Iniciar Sesion"," "))},dependencies:[n._Y,n.Fj,n.JJ,n.JL,n.On,n.F],styles:[".buttonBank[_ngcontent-%COMP%]{background-color:#44aab6}"]}),a})()}}]);