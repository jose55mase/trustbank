"use strict";(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[120],{1785:(b,p,i)=>{i.d(p,{g:()=>g});var l=i(4650),t=i(7185);let g=(()=>{class d{constructor(c){this.toastr=c}alert(c,u,v){switch(this.toastr.clear(),v){case"error":this.toastr.error(u,c);break;case"info":default:this.toastr.info(u,c);break;case"success":this.toastr.success(u,c);break;case"warning":this.toastr.warning(u,c)}}}return d.\u0275fac=function(c){return new(c||d)(l.LFG(t._W))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},8386:(b,p,i)=>{i.d(p,{K:()=>c});var l=i(529),t=i(2843),g=i(262),d=i(4650),m=i(3321);let c=(()=>{class u{constructor(r,h){this.httpClient=r,this.router=h,this.URL="https://guardianstrustbank.com:8081/api/user",this.httpHeaders=new l.WM({"Content-Type":"application/json"})}agregarAuthorizationHeader(){const r=sessionStorage.getItem("token");return null!=r?this.httpHeaders.append("Authorization","Bearer "+r):this.httpHeaders}getUser(r){return this.httpClient.get(`${this.URL}/getUserByEmail/${r}`,{headers:this.agregarAuthorizationHeader()})}subirFoto(r,h){let a=new FormData;a.append("archivo",r),a.append("id",h);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const o=new l.aW("POST",`${this.URL}/upload`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,g.K)(n=>(0,t._)(n)))}subirdocumentFromt(r,h){let a=new FormData;a.append("archivo",r),a.append("id",h);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const o=new l.aW("POST",`${this.URL}/upload/documentFrom`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,g.K)(n=>(0,t._)(n)))}subirdocumentBack(r,h){let a=new FormData;a.append("archivo",r),a.append("id",h);let s=new l.WM;const e=sessionStorage.getItem("token");null!=e&&(s=s.append("Authorization","Bearer "+e));const o=new l.aW("POST",`${this.URL}/upload/documentBack`,a,{reportProgress:!0,headers:s});return this.httpClient.request(o).pipe((0,g.K)(n=>(0,t._)(n)))}update(r){return this.httpClient.put(`${this.URL}/update`,r,{headers:this.agregarAuthorizationHeader()})}getListUser(){return this.httpClient.get(`${this.URL}/findAll`,{headers:this.agregarAuthorizationHeader()})}savaUser(r){return this.httpClient.post(`${this.URL}/save`,r)}}return u.\u0275fac=function(r){return new(r||u)(d.LFG(l.eN),d.LFG(m.F0))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},7661:(b,p,i)=>{i.d(p,{Qz:()=>l,TG:()=>t});const l={log_user_error:"Usuario incorrecto intenta de nuevo",log_user_success:"Bienvenidos",create_transaction_success:"transacci\xf3n creada con exito",create_transaction_warning:"No tienen suficiente fondos para estra transacci\xf3n",error:"Erros del sistema"},t={success:"\u2714",error:"\u274c"}},5120:(b,p,i)=>{i.r(p),i.d(p,{LoginComponent:()=>h});var l=i(529),t=i(4650),g=i(3321);let d=(()=>{class a{constructor(e,o){this.httpClient=e,this.router=o}login(e,o){const f=btoa("angularapp:12345"),C=new l.WM({"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+f});let _=new URLSearchParams;return _.set("grant_type","password"),_.set("username",e),_.set("password",o),this.httpClient.post("https://guardianstrustbank.com:8081/oauth/token",_.toString(),{headers:C})}setToken(e){sessionStorage.setItem("token","42fsfa234234")}isToken(){return!0}}return a.\u0275fac=function(e){return new(e||a)(t.LFG(l.eN),t.LFG(g.F0))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var m=i(7661),c=i(7185),u=i(8386),v=i(1785),r=i(4006);let h=(()=>{class a{constructor(e,o,n,f,C){this.router=e,this.autService=o,this.userService=n,this.notificationService=f,this.toastrService=C,this.objet=new Object,this.email="",this.password="",this.loginDisable=!1}ngOnInit(){this.toastrService.overlayContainer=this.toastContainer}onLogin(){let e=new Intl.NumberFormat("USD",{style:"currency",minimumFractionDigits:2,currency:"USD"});this.loginDisable=!0,this.autService.login(this.email,this.password).subscribe(o=>{const n=JSON.parse(atob(o.access_token.split(".")[1]));this.objet={id:n.id,authorities:n.authorities,username:"",email:n.email,fistName:n.fistName,lastName:n.lastName,city:"",country:"",postal:"",aboutme:"",moneyclean:n.moneyclean,money:e.format(n.moneyclean)},localStorage.setItem("profile",JSON.stringify(this.objet)),sessionStorage.setItem("token",o.access_token),this.router.navigate(["/dashboard"]),this.notificationService.alert("",m.Qz.log_user_success,"success"),this.loginDisable=!1},o=>{console.log("Error---\x3e ",o),this.notificationService.alert(m.TG.error,m.Qz.log_user_error,"error"),this.loginDisable=!1})}register(){this.router.navigate(["/register"])}onGetUser(){this.userService.getListUser().subscribe(e=>{console.log("todo bien ",e)},e=>{console.log("Error --\x3e ",e)})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g.F0),t.Y36(d),t.Y36(u.K),t.Y36(v.g),t.Y36(c._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-login"]],viewQuery:function(e,o){if(1&e&&t.Gf(c.FM,7),2&e){let n;t.iGM(n=t.CRH())&&(o.toastContainer=n.first)}},features:[t._Bn([d])],decls:37,vars:4,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"carrucelRight"],["src","./assets/img/logobank.png","width","70","height","70","alt","..."],[1,"card-category"],[3,"click"],[1,"card-body"],[1,"vh-50"],[1,"container","py-5","h-100"],[1,"row","d-flex","align-items-center","justify-content-center","h-100"],[1,"col-md-8","col-lg-7","col-xl-6"],["src","./assets/img/logobanklettersblak.png","alt","Phone image",1,"img-fluid"],[1,"col-md-7","col-lg-5","col-xl-5","offset-xl-1"],["data-mdb-input-init","",1,"form-outline","mb-4"],["autocomplete","off","type","email","id","form1Example13",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example13",1,"form-label"],["autocomplete","off","type","password","id","form1Example23",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["for","form1Example23",1,"form-label"],[1,"d-flex","justify-content-around","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","value","","id","form1Example3","checked","",1,"form-check-input"],["for","form1Example3",1,"form-check-label"],["type","submit","data-mdb-button-init","","data-mdb-ripple-init","",1,"btn","buttonBank","btn-lg","btn-block",3,"disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6)(7,"div",7),t._UZ(8,"img",8),t.qZA(),t._uU(9," Guardian Trust Bank "),t.qZA(),t.TgZ(10,"p",9)(11,"button",10),t.NdJ("click",function(){return o.onGetUser()}),t._uU(12,"Testing ...."),t.qZA()()(),t.TgZ(13,"div",11)(14,"section",12)(15,"div",13)(16,"div",14)(17,"div",15),t._UZ(18,"img",16),t.qZA(),t.TgZ(19,"div",17)(20,"form")(21,"div",18)(22,"input",19),t.NdJ("ngModelChange",function(f){return o.email=f}),t.qZA(),t.TgZ(23,"label",20),t._uU(24,"Email address"),t.qZA()(),t.TgZ(25,"div",18)(26,"input",21),t.NdJ("ngModelChange",function(f){return o.password=f}),t.qZA(),t.TgZ(27,"label",22),t._uU(28,"Password"),t.qZA()(),t.TgZ(29,"div",23)(30,"div",24),t._UZ(31,"input",25)(32,"label",26),t.qZA(),t.TgZ(33,"a",10),t.NdJ("click",function(){return o.register()}),t._uU(34,"Necesit\xe1s registrarte?"),t.qZA()(),t.TgZ(35,"button",27),t.NdJ("click",function(){return o.onLogin()}),t._uU(36),t.qZA()()()()()()()()()()()()),2&e&&(t.xp6(22),t.Q6J("ngModel",o.email),t.xp6(4),t.Q6J("ngModel",o.password),t.xp6(9),t.Q6J("disabled",o.loginDisable),t.xp6(1),t.hij(" ",o.loginDisable?"Cargando ...":"Iniciar Sesion"," "))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.On,r.F],styles:[".buttonBank[_ngcontent-%COMP%]{background-color:#44aab6}"]}),a})()}}]);